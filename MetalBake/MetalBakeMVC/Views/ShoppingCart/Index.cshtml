@using Newtonsoft.Json;

@model Dictionary<string, int>
@{

    ViewBag.Title = "Index";
    var priceListPath = @"C:\Users\nettrim\Source\Repos\HeavyMetalBakeSale-Kata2\src\MetalBakeMVC\App_Data\price.json";
    string priceJson;
    using (StreamReader sr = new StreamReader(priceListPath))
    {
        priceJson = sr.ReadToEnd();
    }
    var priceList = JsonConvert.DeserializeObject<Dictionary<string, decimal>>(priceJson);
    decimal totalPrice = 0;
}

<h2>Shopping Cart</h2>
<table class="table" style="width: 50%">

    <tr>
        <th>Item</th>
        <th>Amount</th>
        <th>Unit Price</th>
    </tr>
    @foreach (var item in Model)
    {
        totalPrice += (item.Value * priceList[item.Key]);
        <tr>
            <td>@item.Key</td>
            <td>@item.Value</td>
            <td>$@priceList[item.Key]</td>
        </tr>
    }
</table>
<p>Total Price: $@totalPrice</p>